"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[392],{392:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var r=t(791),a=t(434),c=t(942),o=t(413),s=t(439),u="phoneBook_section__82jdA",i="phoneBook_input__gvWDW",l="phoneBook_checkbox__f9sj6",p="phoneBook_block__BVEEw",m="phoneBook_blockContact__7jJT1",h="phoneBook_title__RUn34",d="phoneBook_name__e2DPy",f="phoneBook_nameContact__K3frU",b="phoneBook_button__nB+gh",v=t(184),x=function(e){var n=e.onSubmit,t={name:"",number:"",main:!1},a=(0,r.useState)((0,o.Z)({},t)),u=(0,s.Z)(a,2),m=u[0],h=u[1],f=m.name,x=m.number,_=m.main,j=function(e){var n=e.target,t=n.name,r=n.value,a=n.type,s=n.checked,u="checkbox"===a?s:r;h((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,c.Z)({},t,u))}))},k=function(){h((0,o.Z)({},t))};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("form",{className:p,onSubmit:function(e){e.preventDefault(),n({name:f,number:x,main:_}),k()},children:[(0,v.jsxs)("label",{htmlFor:"get-name",children:[(0,v.jsx)("p",{className:d,children:"Name"}),(0,v.jsx)("input",{value:f,onChange:j,className:i,placeholder:"Name of contact",id:"get-name",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoFocus:!0})]}),(0,v.jsxs)("label",{htmlFor:"get-number",children:[(0,v.jsx)("p",{className:d,children:"Number"}),(0,v.jsx)("input",{id:"get-number",onChange:j,className:i,placeholder:"Number of contact",value:x,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,v.jsxs)("label",{htmlFor:"get-main",children:[(0,v.jsx)("p",{className:d,children:"Add to main contact?"}),(0,v.jsx)("input",{id:"get-main",className:l,checked:_,onChange:j,type:"checkbox",name:"main"})]}),(0,v.jsx)("button",{className:b,type:"submit",children:"Add contact"})]})})},_=function(e){var n=e.onDelete,t=e.contacts.map((function(e){var t=e.name,r=e.number,a=e.id,c=e.main;return(0,v.jsxs)("li",{style:{fontWeight:c?"bold":"normal"},children:[(0,v.jsx)("p",{className:f,children:t}),(0,v.jsx)("p",{className:f,children:r}),(0,v.jsx)("button",{onClick:function(){return n(a)},children:"Delete"})]},a)}));return(0,v.jsx)("ol",{children:t})},j=function(e){var n=e.onChangeFilter,t=e.value;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("p",{className:d,children:"Find contacts by name"}),(0,v.jsx)("input",{onChange:n,className:i,placeholder:"Name of contact",type:"text",name:"filter",value:t,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]})},k=t(861),g=t(757),w=t.n(g),y=t(829),N=t(243).Z.create({baseURL:"https://64022085ab6b7399d0b4823a.mockapi.io/api/contacts"}),C=function(){var e=(0,k.Z)(w().mark((function e(){var n,t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("/");case 2:return n=e.sent,t=n.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,k.Z)(w().mark((function e(n){var t,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.post("/",n);case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=(0,k.Z)(w().mark((function e(n){var t,r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.delete("/".concat(n));case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),F=(0,y.hg)("contacts/fetch-all",function(){var e=(0,k.Z)(w().mark((function e(n,t){var r,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",t.rejectWithValue(a.data));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}()),A=(0,y.hg)("contacts/add",function(){var e=(0,k.Z)(w().mark((function e(n,t){var r,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(n);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),a=e.t0.response,e.abrupt("return",t.rejectWithValue(a.data));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n,t){return e.apply(this,arguments)}}(),{condition:function(e,n){var t=e.name,r=e.number,a=(0,n.getState)().contacts,c=t.toLowerCase();if(a.items.find((function(e){return e.name.toLowerCase()===c&&e.number===r})))return alert("Dear User, ".concat(t," with number ").concat(r," is already in your contacts!")),!1}}),z=(0,y.hg)("contacts/delete",function(){var e=(0,k.Z)(w().mark((function e(n,t){var r,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.rejectWithValue,e.prev=1,e.next=4,B(n);case 4:return e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(1),a=e.t0.response,e.abrupt("return",r(a.data));case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t){return e.apply(this,arguments)}}()),D=(0,y.oM)({name:"filter",initialState:"",reducers:{setFilter:function(e,n){return n.payload}}}),S=D.actions.setFilter,W=(D.reducer,t(141)),L=function(e){return e.filter},P=function(){var e=(0,a.v9)(W.F4),n=(0,a.v9)(L),t=(0,a.I0)();(0,r.useEffect)((function(){t(F())}),[t]);var c=Boolean(e.length);return(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("h2",{className:h,children:"Phonebook"}),(0,v.jsx)(x,{onSubmit:function(e){var n=e.name,r=e.number,a=e.main;t(A({name:n,number:r,main:a}))}}),(0,v.jsxs)("div",{className:m,children:[(0,v.jsx)("h2",{className:h,children:"Contacts"}),(0,v.jsx)(j,{onChangeFilter:function(e){var n=e.target;t(S(n.value))},value:n}),c&&(0,v.jsx)(_,{contacts:e,onDelete:function(e){t(z(e))}}),!c&&(0,v.jsx)("p",{children:"There are no contacts in your Phone Book..."})]})]})}},141:function(e,n,t){t.d(n,{F4:function(){return a},Gc:function(){return r}});var r=function(e){var n=e.contacts;return n&&n.items?n.items.filter((function(e){return e.main})):[]},a=function(e){var n=e.contacts,t=e.filter;if(!n||!n.items)return[];if(!t)return n.items;var r=t.toLowerCase();return n.items.filter((function(e){return e.name.toLowerCase().includes(r)}))}}}]);
//# sourceMappingURL=392.dd1d2359.chunk.js.map